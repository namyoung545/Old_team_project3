<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ì‹œì„¤ A/S ì ‘ìˆ˜</title>
  <th:block th:replace="/PHG/RequestCode/headScript :: headScript"></th:block>
  <script src="//t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>
  <link rel="stylesheet" type="text/css" href="/css/PHG_css/Request_css/registAS.css">
</head>
<body>
  <th:block th:replace="/PHG/RequestCode/header :: header"></th:block>

  <main>
    <div class="maintenance-report">
      <h1>ì‹œì„¤ A/S ì ‘ìˆ˜</h1>
      <hr>
      
      <div class="report-form">
        <form action="/schedule/registAS/insert" method="post">
          <input type="hidden" name="userId" th:value="${session.userId}">
          <!-- ì‹ ê³ ì ì •ë³´ ì„¹ì…˜ -->
          <table class="info-table">
            <caption>
              <span class="caption-icon">ğŸ‘¤</span>
              ì‹ ê³ ì ì •ë³´
              <span class="required-note">* í•„ìˆ˜ ì…ë ¥ í•­ëª©</span>
            </caption>
            <tbody>
              <tr>
                <th><label for="name">ì´ë¦„ *</label></th>
                <td>
                  <div class="input-wrapper">
                    <input type="text" name="name" id="name" placeholder="ì‹ ê³ ì ì„±ëª…ì„ ì…ë ¥í•˜ì„¸ìš”" required>
                  </div>
                </td>
              </tr>
              <tr>
                <th><label for="phoneNumber">ì—°ë½ì²˜ *</label></th>
                <td>
                  <div class="phone-group">
                    <input type="text" id="phoneNumber1" value="010" readonly style="width:100px; text-align:center;">
                    <span class="phone-separator">-</span>
                    <input type="tel" id="phoneNumber2" class="phone" minlength="3" maxlength="4" placeholder="xxxx" required>
                    <span class="phone-separator">-</span>
                    <input type="tel" id="phoneNumber3" class="phone" minlength="4" maxlength="4" placeholder="xxxx" required>
                    <input type="hidden" name="phoneNumber" id="phoneNumber">
                  </div>
                </td>
              </tr>
              <tr>
                <th><label for="email">ì´ë©”ì¼</label></th>
                <td>
                  <div class="input-wrapper">
                    <input type="email" name="email" id="email" placeholder="example@domain.com">
                  </div>
                </td>
              </tr>
            </tbody>
          </table>

          <!-- ì‹œì„¤ë¬¼ ì •ë³´ ì„¹ì…˜ -->
          <table class="info-table">
            <caption>
              <span class="caption-icon">ğŸ¢</span>
              ì‹œì„¤ë¬¼ ì •ë³´
            </caption>
            <tbody>
              <tr>
                <th><label for="address">ì‹œì„¤ë¬¼ ìœ„ì¹˜ *</label></th>
                <td>
                  <div class="address-group">
                    <button type="button" onclick="searchAddress()" class="address-search-btn">ì£¼ì†Œ ê²€ìƒ‰</button>
                    <input type="text" id="postcode" name="postcode" placeholder="ìš°í¸ë²ˆí˜¸" readonly required>
                    <input type="text" id="address" name="address" placeholder="ì£¼ì†Œ" readonly required>
                    <input type="text" id="detailAddress" name="detailAddress" placeholder="ìƒì„¸ì£¼ì†Œë¥¼ ì…ë ¥í•˜ì„¸ìš”">
                  </div>
                </td>
              </tr>
              <tr>
                <th><label for="facilityType">ì‹œì„¤ë¬¼ ë¶„ë¥˜ *</label></th>
                <td>
                  <div class="input-wrapper">
                    <select name="facilityType" id="facilityType" required>
                      <option value="">ì‹œì„¤ë¬¼ ì„ íƒ</option>
                      <optgroup label="ì „ê¸° ì‹œì„¤">
                        <option value="lighting">ì¡°ëª…</option>
                        <option value="power">ì „ì›</option>
                        <option value="communication">í†µì‹ </option>
                      </optgroup>
                      <optgroup label="ì„¤ë¹„ ì‹œì„¤">
                        <option value="plumbing">ë°°ê´€</option>
                        <option value="hvac">ê³µì¡°</option>
                        <option value="elevator">ìŠ¹ê°•ê¸°</option>
                      </optgroup>
                      <optgroup label="ì•ˆì „ ì‹œì„¤">
                        <option value="fire">ì†Œë°©</option>
                        <option value="security">ë³´ì•ˆ</option>
                        <option value="emergency">ë¹„ìƒ</option>
                      </optgroup>
                      <optgroup label="ê¸°íƒ€ ì‹œì„¤">
                        <option value="interior">ë‚´ë¶€ì‹œì„¤</option>
                        <option value="exterior">ì™¸ë¶€ì‹œì„¤</option>
                        <option value="other">ê¸°íƒ€</option>
                      </optgroup>
                    </select>
                  </div>
                </td>
              </tr>
            </tbody>
          </table>

          <!-- ìƒì„¸ ì •ë³´ ì„¹ì…˜ -->
          <table class="info-table">
            <caption>
              <span class="caption-icon">ğŸ“</span>
              ìƒì„¸ ì •ë³´
            </caption>
            <tbody>
              <tr>
                <th><label for="issueTitle">ì œëª© *</label></th>
                <td>
                  <div class="input-wrapper">
                    <input type="text" name="issueTitle" id="issueTitle" placeholder="ë¬¸ì œë¥¼ ê°„ë‹¨íˆ ì„¤ëª…í•´ì£¼ì„¸ìš”" required>
                  </div>
                </td>
              </tr>
              <tr>
                <th><label for="issueDetails">ìƒì„¸ì„¤ëª… *</label></th>
                <td>
                  <div class="input-wrapper">
                    <textarea name="issueDetails" id="issueDetails" placeholder="ë°œìƒí•œ ë¬¸ì œì— ëŒ€í•´ ìì„¸íˆ ì„¤ëª…í•´ì£¼ì„¸ìš”" required></textarea>
                    <div class="textarea-footer">
                      <span class="char-count">0/2000</span>
                    </div>
                  </div>
                </td>
              </tr>
              <tr>
                <th><label for="preferredDate">ë°©ë¬¸ ê°€ëŠ¥ ì¼ì *</label></th>
                <td>
                  <div class="visit-time-wrapper">
                    <div class="date-select">
                      <input type="date" name="preferredDate" id="preferredDate" required>
                    </div>
                  </div>
                </td>
              </tr>
              <tr>
                <th><label for="preferredTime">ë°©ë¬¸ ê°€ëŠ¥ ì‹œê°„ *</label></th>
                <td>
                  <div class="input-wrapper">
                    <select name="preferredTime" id="preferredTime" required>
                      <option value="">ì‹œê°„ ì„ íƒ</option>
                      <option value="09:00:00">09ì‹œ</option>
                      <option value="10:00:00">10ì‹œ</option>
                      <option value="11:00:00">11ì‹œ</option>
                      <option value="12:00:00">12ì‹œ</option>
                      <option value="14:00:00">14ì‹œ</option>
                      <option value="15:00:00">15ì‹œ</option>
                      <option value="16:00:00">16ì‹œ</option>
                      <option value="17:00:00">17ì‹œ</option>
                    </select>
                  </div>
                </td>
              </tr>
            </tbody>
          </table>

          <!-- ê°œì¸ì •ë³´ ë™ì˜ ì„¹ì…˜ -->
          <div class="privacy-agreement">
            <h3>ê°œì¸ì •ë³´ ìˆ˜ì§‘ ë° ì´ìš© ë™ì˜</h3>
            <div class="agreement-content">
              <p>1. ìˆ˜ì§‘í•˜ëŠ” ê°œì¸ì •ë³´ í•­ëª©: ì„±ëª…, ì—°ë½ì²˜, ì´ë©”ì¼</p>
              <p>2. ìˆ˜ì§‘ ëª©ì : A/S ì‹ ì²­ ì²˜ë¦¬ ë° ê²°ê³¼ íšŒì‹ </p>
              <p>3. ë³´ìœ  ê¸°ê°„: ì‹ ì²­ì¼ë¡œë¶€í„° 1ë…„</p>
            </div>
            <div class="agreement-checkbox">
              <input type="checkbox" name="privacyAgreement" id="privacyAgreement" required>
              <label for="privacyAgreement">ìœ„ ê°œì¸ì •ë³´ ìˆ˜ì§‘ ë° ì´ìš©ì— ë™ì˜í•©ë‹ˆë‹¤. *</label>
            </div>
          </div>

          <!-- ë²„íŠ¼ ê·¸ë£¹ -->
          <div class="button-group">
            <button type="submit" class="submit-btn">ì‹ ê³ ì„œ ì œì¶œ</button>
            <button type="reset" class="reset-btn">ì´ˆê¸°í™”</button>
          </div>
        </form>
      </div>
    </div>
  </main>

  <th:block th:replace="/PHG/RequestCode/footer :: footer"></th:block>

  <script>
    // ì£¼ì†Œ ê²€ìƒ‰ í•¨ìˆ˜
    function searchAddress() {
      new daum.Postcode({
        oncomplete: function(data) {
          document.getElementById('postcode').value = data.zonecode;
          document.getElementById('address').value = data.address;
          document.getElementById('detailAddress').focus();
        }
      }).open();
    }

    // í¼ ì œì¶œ ì‹œ ì „í™”ë²ˆí˜¸ ì¡°í•©
    document.querySelector('form').addEventListener('submit', function(event) {
      const phoneNumber1 = document.getElementById('phoneNumber1').value;
      const phoneNumber2 = document.getElementById('phoneNumber2').value;
      const phoneNumber3 = document.getElementById('phoneNumber3').value;

      const fullPhoneNumber = phoneNumber1 + '-' + phoneNumber2 + '-' + phoneNumber3;
      document.getElementById('phoneNumber').value = fullPhoneNumber;
    });
  </script>
</body>
</html>